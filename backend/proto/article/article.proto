syntax = "proto3";

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

option go_package = "proto/article";

message TopicArticles {
        map<string, Articles> topicArticles = 1;
}

message Articles {
        repeated Article articles = 1;
}

message Article {
        string title = 1;
        string description = 2;
        string url = 3;
        string imageUrl = 4;
        string source = 5;
        google.protobuf.Timestamp date = 6;
}

message TopicNames {
        repeated string topics = 1;
}

service ArticleService {
        rpc GetTopicArticles(TopicNames) returns (TopicArticles);
        rpc SetTopicArticles(TopicArticles) returns (google.protobuf.Empty);
        rpc GetTrendingArticles(google.protobuf.Empty) returns (Articles);
        rpc SetTrendingArticles(Articles) returns (google.protobuf.Empty);
}

